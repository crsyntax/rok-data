<!DOCTYPE html> <meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" />

<div class="row">
  <div class="column">
    <div>
      <select id="dropdown" onchange="changeData()"></select>
      <a id="link" href="#" target="_blank">Link</a>
    </div>
    <div id="info"></div>
  </div>
  <div class="column"><svg width="960" height="700"></svg></div>
</div>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="graph.js"></script>

<script>
  // Initial page setup
  function changeData() {
    selection = document.getElementById('dropdown').value;

    a = document.getElementById('link');
    a.href = meta[selection].web;

    loadGraph(
      meta[selection].file,
      meta[selection].strength,
      meta[selection].distance
    );
  }

  const meta = {
    'Legend Rhony': {
      file: 'legend_rhony.csv',
      web: 'https://www.youtube.com/channel/UCDKUIl7MVHNTjZgDRPDUdxw',
      strength: -2000,
      distance: 500
    },
    detectiveG: {
      file: 'detectiveG.csv',
      web:
        'https://docs.google.com/spreadsheets/d/1YqsYjNAxzHHODfzJoPhN3kzyG9xwGvK7NmoK1e3ADdk',
      strength: -1500,
      distance: 500
    }
  };

  const options = Object.keys(meta);

  const select = document.getElementById('dropdown');

  for (let i = 0; i < options.length; i++) {
    opt = document.createElement('option');
    opt.textContent = options[i];
    select.appendChild(opt);
  }

  changeData();
</script>
